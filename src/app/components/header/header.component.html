<mat-toolbar class="header" #headerContainer>
  <div class="header-container">
    <div class="logo-section" #logoSection (click)="onLogoClick()" tabindex="0" aria-label="CloudRunr Home">
      <img src="assets/logo.png" alt="CloudRunr Logo" class="logo">
      <span class="brand-name">CloudRunr</span>
    </div>

    <div class="auth-section" #authSection>
      <button 
        mat-stroked-button 
        color="primary"
        class="login-btn" 
        (click)="onNewProjectClick($event)"
        (mouseenter)="onButtonHover($event)"
        (mouseleave)="onButtonLeave($event)">
        New Project
      </button>

      <button 
        *ngIf="!isLoggedIn" 
        mat-raised-button 
        color="primary"
        class="login-btn" 
        (click)="onLoginClick($event)"
        (mouseenter)="onButtonHover($event)"
        (mouseleave)="onButtonLeave($event)">
        <mat-icon>login</mat-icon>
        Login
      </button>

      <!-- My Projects Button - only shown when logged in -->
      <button 
        *ngIf="isLoggedIn"
        mat-stroked-button 
        color="primary"
        class="my-projects-btn" 
        (click)="onMyProjectsClick($event)"
        (mouseenter)="onButtonHover($event)"
        (mouseleave)="onButtonLeave($event)">
        <mat-icon>dashboard</mat-icon>
        My Projects
      </button>
      
      <button 
        *ngIf="isLoggedIn" 
        mat-raised-button 
        color="accent"
        class="profile-btn" 
        [matMenuTriggerFor]="profileMenu"
        (click)="onProfileClick($event)"
        (mouseenter)="onButtonHover($event)"
        (mouseleave)="onButtonLeave($event)">
        <mat-icon>account_circle</mat-icon>
        {{ currentUser?.name || 'Profile' }}
      </button>
      
      <mat-menu #profileMenu="matMenu" class="profile-menu">
        <div class="profile-menu-header">
          <div class="user-avatar">
            <mat-icon>account_circle</mat-icon>
          </div>
          <div class="user-info">
            <h4>{{ currentUser?.name || 'User' }}</h4>
            <p>{{ currentUser?.email || 'user@cloudrunr.com' }}</p>
          </div>
        </div>
        <mat-divider></mat-divider>
        <button mat-menu-item (click)="onLogoutClick()" class="logout-item">
          <mat-icon>logout</mat-icon>
          <span>Logout</span>
        </button>
      </mat-menu>
    </div>
  </div>
</mat-toolbar>
